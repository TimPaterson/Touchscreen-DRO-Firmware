<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE Project [<!ENTITY Fonts SYSTEM "../Fonts/Fonts.xml">]>
<Project xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:noNamespaceSchemaLocation="C:\Users\Tim\OneDrive\Tim\Documents\Technical\Develop\TimTools\ScreenDesigner\ScreenDesigner.xsd"
         StrideMultiple="4">
  &Fonts;
  <Set>
    ScreenHeight = 600;
    ScreenWidth = 1024;
  	BtnHeight = 60;
  	BtnWidth = 60;
  	KeySpace = 10;
  	KeypadLeft = 584;
  	BtnFontSize = BtnHeight * 3 / 4;
  	SmallTextHeight = CalcSmall_Height;
  	SettingsWidth = KeypadLeft - KeySpace;

    <!-- ListScroll parameters -->
    ScrollGapLeft = 4;
    ScrollGapRight = 0;
    ScrollThumbWidth = 60;
    ScrollBarWidth = ScrollGapLeft + ScrollThumbWidth + ScrollGapRight;
  </Set>
  <Set ShowValue="ScrollGapLeft">ScrollGapLeft</Set>
  <Set ShowValue="ScrollGapRight">ScrollGapRight</Set>
  <Set ShowValue="ScrollThumbWidth">ScrollThumbWidth</Set>
  <Set ShowValue="ScrollBarWidth">ScrollBarWidth</Set>
  <Font Name="BtnFont" FontSize="BtnFontSize" FontFamily="Arial"/>
  <Font Name="BtnSmallFont" FontSize="BtnFontSize * 3 / 4" />
  <Color Name="ScreenForeColor" Color="Black" ColorDepth="Color16bpp"/>
  <Color Name="ScreenBackColor" Color="LightBlue" ColorDepth="Color16bpp"/>
  <Color Name="AxisForeColor" Color="Black" />
  <Color Name="AxisBackColor" Color="Yellow" />
  <Color Name="CalcBackColor" Color="White" />
  <Color Name="MemColorOdd" Color="0xD0C0D0" ColorDepth="Color16bpp"/>
  <Color Name="MemColorEven" Color="PaleGreen" ColorDepth="Color16bpp"/>
  <Color Name="BtnBackground" Color="0x606060"/>
  <Color Name="ToolInfoBackground" Color="Blue" ColorDepth="Color16bpp"/>
  <Color Name="ToolInfoForeground" Color="White" ColorDepth="Color16bpp"/>
  <Color Name="ToolLibBackground" Color="DarkBlue" ColorDepth="Color16bpp"/>
  <Color Name="ToolLibForeground" Color="LightGray" ColorDepth="Color16bpp"/>
  <Color Name="ToolLibSelected" Color="White" ColorDepth="Color16bpp"/>

  <!-- Components -->
  <Component Name="Key">
    <Rectangle Name="Button" Height="BtnHeight" Width="BtnWidth"
      RadiusX="8" RadiusY="8" StrokeThickness="0" Fill="White">
      <TextBlock Name="Label" Font="BtnFont" Foreground="Black"/>
    </Rectangle>
  </Component>

  <Component Name="Memory">
    <Rectangle Name="MemRect" Group="Memory" Height="BtnHeight" Width="150">
      <Rectangle Name="MemDisp" Top="BtnHeight / 4" Left="10" Height="BtnHeight / 2" Width="140"/>
    </Rectangle>
  </Component>

  <Component Name="Toggle">
    <Color Name="ToggleOn" Color="Yellow"/>
    <Rectangle Name="Button" Height="BtnHeight" Width="BtnWidth"
      RadiusX="8" RadiusY="8" StrokeThickness="0" Fill="BtnBackground">
      <TextBlock Name="Upper" FontSize="BtnFontSize / 2" Top="1" Foreground="DarkGray" FontFamily="Arial" Text="abs" />
      <Line X1="10" Y1="BtnHeight / 2" X2="BtnWidth - 10" Y2="BtnHeight / 2" Stroke="White" StrokeThickness="2" />
      <TextBlock Name="Lower" FontSize="BtnFontSize / 2" Top="33" Foreground="DarkGray" FontFamily="Arial" Text="inc" />
    </Rectangle>
  </Component>

  <Component Name="InchMetric">
    <Ref RefName="Toggle"/>
    <Set>
      Upper.Text = "inch";
    	Lower.Text = "mm";
    </Set>
  </Component>

  <Set>
    <!-- Axis displays -->
    DispHt = DigitDisplay_Height;
    DispWd = 410;
    DigHt = 96;
    LabHt = 72;
    Vspace = 25;
    LabTop = (DispHt - DigHt) / 2;

    <!-- Caculator displays -->
    KeypadWidth = KeySpace + (BtnWidth + KeySpace) * 4;
    KeypadRight = KeypadLeft + KeypadWidth;
    KeypadHeight = KeySpace + (BtnHeight + KeySpace) * 5;
    CalcTextHeight = BtnHeight;
    Undo3Top = Vspace;
    Undo2Top = Undo3Top + SmallTextHeight;
    Undo1Top = Undo2Top + SmallTextHeight;
    CalcDispTop = Undo1Top + SmallTextHeight + KeySpace;
    CalcTextTop = CalcDispTop + CalcTextHeight + KeySpace;
    KeypadTop = CalcTextTop + SmallTextHeight + KeySpace;
    KeypadBottom = KeypadTop + KeypadHeight;
    UndoTop = Undo3Top;
    UndoHeight = SmallTextHeight * 3;

    <!-- Tool display column widths & positions -->
    ToolNumWidth = 54;
    ToolDiamWidth = 70;
    ToolFluteWidth = 55;
    ToolLengthWidth = 85;

    ToolNumLeft = 0;
    ToolDiamLeft = ToolNumLeft + ToolNumWidth;
    ToolFluteLeft = ToolDiamLeft + ToolDiamWidth;
    ToolLengthLeft = ToolFluteLeft + ToolFluteWidth;
    ToolDescLeft = ToolLengthLeft + ToolLengthWidth;

    ToolTextHeight = SmallTextHeight;
    ToolTextNumLeft = ToolNumWidth - 3 * 14 - 4;

    <!-- Tool Library -->
    ToolLibHeight = CalcDispTop - 2;
    ToolLibWidth = ScreenWidth;
    ToolListHeight = ScreenHeight - ToolLibHeight;
    ToolListWidth = KeypadLeft - 8;
    ToolRowWidth = ToolListWidth - ScrollBarWidth;

    <!-- Controls -->
    ToolBtnHeight = BtnHeight;
    ToolBtnWidth = BtnWidth;
    ToolCtrlHeight = ToolLibHeight - KeySpace;
    ToolButtonsWidth = ToolBtnWidth * 3 + KeySpace * 2;
    ToolButtonsLeft = ToolLibWidth - ToolButtonsWidth - KeySpace;

    ToolInfoDescWidth = ToolButtonsLeft - KeySpace * 2 - ToolDescLeft;
    ToolListDescWidth = ToolRowWidth - KeySpace - ToolDescLeft;
    ToolDescTextLeft = 5;

    ToolInfoHeight = 60;
    ToolLabelHeight = ToolLibHeight - ToolInfoHeight - KeySpace;
    ToolRowHeight = 50;
  </Set>

  <!-- Tool label line -->
  <Component Name="ToolLabel">
    <Rectangle Name="Item" Height="40" Width="ToolNumWidth" StrokeThickness="1" Stroke="ToolInfoForeground">
      <TextBlock Name="Label" Font="CalcSmall" Foreground="ToolInfoForeground"/>
    </Rectangle>
  </Component>

  <Component Name="ToolLabels">
    <Ref RefName="ToolLabel" Left="ToolNumLeft">
      <Set>
        Item.Width = ToolNumWidth + 1;
        Label.Text = Tool;
      </Set>
    </Ref>
    <Ref RefName="ToolLabel" Left="ToolDiamLeft">
      <Set>
        Item.Width = ToolDiamWidth + 1;
        Label.Text = Dia.;
      </Set>
    </Ref>
    <Ref RefName="ToolLabel" Left="ToolFluteLeft">
      <Set>
        Item.Width = ToolFluteWidth + 1;
        Label.Text = Flut.;
      </Set>
    </Ref>
    <Ref RefName="ToolLabel" Left="ToolLengthLeft">
      <Set>
        Item.Width = ToolLengthWidth + 1;
        Label.Text = Length;
      </Set>
    </Ref>
    <Ref RefName="ToolLabel" Left="ToolDescLeft">
      <Set>
        Label.Text = Description;
        Item.Name = ToolLabelDesc;
        Label.Name = ToolTextDesc;
      </Set>
    </Ref>
  </Component>

  <!-- Tool info line -->
  <Component Name="ToolItem">
    <Rectangle Name="Item" Group="ToolLib" Height="ToolInfoHeight + 1" Width="ToolNumWidth" StrokeThickness="1" Stroke="ToolInfoForeground">
      <Rectangle Name="TextAreaTop" Height="ToolTextHeight" Width="ToolNumWidth">
        <Rectangle Name="TextArea" Height="ToolTextHeight" Width="ToolNumWidth">
          <TextBlock Name="DummyText" Left="0" Top="0" Font="CalcSmall"/>
        </Rectangle>
      </Rectangle>
    </Rectangle>
  </Component>

  <Component Name="ToolInfo">
    <Ref RefName="ToolItem" Left="ToolNumLeft">
      <Set>
        Item.Width = ToolNumWidth + 1;
        Item.HotSpot = ToolNumber;
        TextArea.Left = ToolTextNumLeft;
        TextArea.Width = ToolNumWidth - ToolTextNumLeft - 1;
        TextArea.Area = ToolNumber;
        TextArea.Name = ToolNumber;
        DummyText.Text = 100;
      </Set>
    </Ref>
    <Ref RefName="ToolItem" Left="ToolDiamLeft">
      <Set>
        Item.Width = ToolDiamWidth + 1;
        Item.HotSpot = ToolDiameter;
        TextArea.Left = 5;
        TextArea.Width = ToolDiamWidth - 6;
        TextArea.Area = ToolDiameter;
        TextArea.Name = ToolDiameter;
        DummyText.Text = 0.375;
      </Set>
    </Ref>
    <Ref RefName="ToolItem" Left="ToolFluteLeft">
      <Set>
        Item.Width = ToolFluteWidth + 1;
        Item.HotSpot = ToolFlutes;
        TextArea.Left = 9;
        TextArea.Width = ToolFluteWidth - 10;
        TextArea.Area = ToolFlutes;
        TextArea.Name = ToolFlutes;
        DummyText.Text = 003;
      </Set>
    </Ref>
    <Ref RefName="ToolItem" Left="ToolLengthLeft">
      <Set>
        Item.Width = ToolLengthWidth + 1;
        Item.HotSpot = ToolLength;
        TextArea.Left = 6;
        TextArea.Width = ToolLengthWidth - 7;
        TextArea.Area = ToolLength;
        TextArea.Name = ToolLength;
        DummyText.Text = 12.897;
      </Set>
    </Ref>
    <Ref RefName="ToolItem" Left="ToolDescLeft">
      <Set>
        Item.Width = ToolInfoDescWidth;
        Item.HotSpot = ToolDesc;
        Item.Name = ToolItemDesc;
        TextArea.Left = ToolDescTextLeft;
        TextArea.Width = ToolInfoDescWidth - ToolDescTextLeft - 1;
        TextArea.Area = ToolDesc;
        TextArea.Name = ToolDesc;
        DummyText.Text = 1/4\" carbide;
      </Set>
    </Ref>
  </Component>

  <!-- Feeds & speeds images -->
  <Set>SpCellWidth = 90;
  	SpCellHeight = 32;
  	SpColSpace = 10;
  	SpeedTextTop = 2;
  	SpeedDisplayWidth = SpCellWidth * 4 + SpColSpace + 1;
  	SpeedDisplayHeight = SpCellHeight * 3 + 1;
  </Set>
  <Component Name="SpeedDisplay">
    <Grid RowHeight="SpCellHeight" ColumnWidth="SpCellWidth">
      <Default>
        <Rectangle Name="ToolCell" Height="SpCellHeight + 1" Width="SpCellWidth + 1" Stroke="Black" StrokeThickness="1">
          <TextBlock Name="SpeedText" Font="CalcSmall"/>
        </Rectangle>
      </Default>
      <Row>
        <Column>
          <Set>
            ToolCell.StrokeThickness = 0;
            ToolCell.Width = SpCellWidth * 2;
          	SpeedText.Text = Speed;
          </Set>
          <Rectangle HotSpot="ToolSfm" Group="ToolLib" Height="SpCellHeight * 3" Width="SpCellWidth * 2"/>
        </Column>
        <Column Left="SpCellWidth + SpColSpace">
          <Set>
            ToolCell.StrokeThickness = 0;
            ToolCell.Width = SpCellWidth * 2;
          	SpeedText.Text = Chip Load;
          </Set>
          <Rectangle HotSpot="ToolChipLoad" Group="ToolLib" Height="SpCellHeight * 3" Width="SpCellWidth * 2"/>
        </Column>
      </Row>
      <Row>
        <Column>
          <Set>
            SpeedText.Text = SFM;
            SpeedText.Name = SpeedTextSfm;
          </Set>
        </Column>
        <Column>
          <Rectangle Name="Sfm" Left="15" Top="SpeedTextTop" Height="SmallTextHeight" Width="SpCellWidth - 16"/>
        </Column>
        <Column Left="SpColSpace">
          <Set>
            SpeedText.Text = in/tooth;
            SpeedText.Name = SpeedTextFeed;
          </Set>
        </Column>
        <Column>
          <Rectangle Name="ChipLoad" Left="8" Top="SpeedTextTop" Height="SmallTextHeight" Width="SpCellWidth - 9"/>
        </Column>
      </Row>
      <Row>
        <Column>
          <Set>
            SpeedText.Text = RPM;
          </Set>
        </Column>
        <Column>
          <Rectangle Name="Rpm" Left="15" Top="SpeedTextTop" Height="SmallTextHeight" Width="SpCellWidth - 16"/>
        </Column>
        <Column Left="SpColSpace">
          <Set>
            SpeedText.Text = in/min;
            SpeedText.Name = SpeedTextLoad;
          </Set>
        </Column>
        <Column>
          <Rectangle Name="FeedRate" Left="15" Top="SpeedTextTop" Height="SmallTextHeight" Width="SpCellWidth - 16"/>
        </Column>
      </Row>
    </Grid>
  </Component>

  <!-- Main Screen -->

  <Canvas Name="MainScreen" Width="ScreenWidth" Height="ScreenHeight" ColorDepth="Color16bpp" Fill="ScreenBackColor">
    <Grid Top="Vspace/2" RowHeight="DispHt + Vspace" ColumnWidth="0">
      <Default>
        <Rectangle Name="AxisDisplay" Group="Axis" Height="DispHt" Width="DispWd" Fill="AxisBackColor">
        </Rectangle>
        <Rectangle Name="AxisButton" Group="AxisButton" Top="LabTop" Left="DispWd+25" Height="DigHt" Width="85" RadiusX="8" RadiusY="8"
          StrokeThickness="5" Stroke="ScreenForeColor" Fill="White">
          <TextBlock Name="AxisLabel" FontSize="LabHt" Foreground="Black" FontFamily="Arial" Left="13" />
          <TextBlock FontSize="LabHt*2/5" Foreground="Black" FontFamily="Arial" Text="0" Top="47" Left="59"/>
        </Rectangle>
     </Default>
      <Row>
        <Column>
          <Set>
            AxisLabel.Text = X;
          	AxisButton.HotSpot = Xsensor;
          	AxisDisplay.Area = Xdisplay;
            AxisDisplay.HotSpot = Xsensor;
          </Set>
        </Column>
      </Row>
      <Row>
        <Column>
          <Set>
            AxisLabel.Text = Y;
          	AxisButton.HotSpot = Ysensor;
          	AxisDisplay.Area = Ydisplay;
            AxisDisplay.HotSpot = Ysensor;
          </Set>
        </Column>
      </Row>
      <Row>
        <Column>
          <Set>
            AxisLabel.Text = Z;
          	AxisButton.HotSpot = Zsensor;
          	AxisDisplay.Area = Zdisplay;
            AxisDisplay.HotSpot = Zsensor;
          </Set>
        </Column>
      </Row>
    </Grid>

    <!-- Settings controls -->
    <Set>
      LgBtnWidth = BtnWidth * 2;
    	SettingLeft = ScreenWidth - LgBtnWidth - KeySpace;
    </Set>
    <Color Name="SetBtnText" Color="ToggleOn"/>
    <Rectangle HotSpot="Settings" Top="KeySpace" Left="SettingLeft" Height="BtnHeight"
      Width="LgBtnWidth" RadiusX="8" RadiusY="8" Fill="BtnBackground">
      <TextBlock FontSize="BtnHeight * 2 / 5" FontFamily="Arial" Foreground="SetBtnText">Settings</TextBlock>
    </Rectangle>
    <Rectangle Top="BtnHeight + KeySpace * 2" Left="SettingLeft" Height="BtnHeight"
      Width="LgBtnWidth" RadiusX="8" RadiusY="8" Fill="BtnBackground">
      <TextBlock Top="5" FontSize="BtnHeight / 3" FontFamily="Arial" Foreground="SetBtnText">Brightness</TextBlock>
      <Rectangle HotSpot="BrightDown" Width="BtnWidth" Height="BtnHeight">
        <TextBlock Top="15" FontSize="BtnFontSize" FontFamily="Arial" Foreground="SetBtnText">−</TextBlock>
      </Rectangle>
      <Rectangle HotSpot="BrightUp" Left="BtnWidth" Width="BtnWidth" Height="BtnHeight">
        <TextBlock Top="15" FontSize="BtnFontSize" FontFamily="Arial" Foreground="SetBtnText">+</TextBlock>
      </Rectangle>
    </Rectangle>

    <Rectangle Location="Undo3" Left="KeypadLeft" Top="Undo3Top" Width="KeypadWidth" Height="SmallTextHeight" Fill="CalcBackColor">
    </Rectangle>
    <Rectangle Location="Undo2" Left="KeypadLeft" Top="Undo2Top" Width="KeypadWidth" Height="SmallTextHeight" Fill="CalcBackColor">
    </Rectangle>
    <Rectangle Location="Undo1" Left="KeypadLeft" Top="Undo1Top" Width="KeypadWidth" Height="SmallTextHeight" Fill="CalcBackColor">
    </Rectangle>
    <Rectangle HotSpot="Undo" Left="KeypadLeft" Top="UndoTop" Height="UndoHeight" Width="KeypadWidth"/>
    <Rectangle Area="CalcDisplay" Left="KeypadLeft" Top="CalcDispTop" Width="KeypadWidth" Height="CalcTextHeight" Fill="CalcBackColor">
    </Rectangle>
    <Rectangle Area="CalcText" Left="KeypadLeft" Top="CalcTextTop" Width="KeypadWidth" Height="SmallTextHeight" Fill="CalcBackColor">
    </Rectangle>
    <TextBlock Top="KeypadTop - 25" Left="KeypadLeft + 310" Font="CalcSmall">Memories</TextBlock>

    <!-- Toggle button locations (images overwritten) -->
    <Ref RefName="InchMetric" Left="KeypadRight + KeySpace" Top="KeypadBottom - BtnHeight - KeySpace">
      <Set>
        Button.Area = "InchMetric";
        Button.HotSpot = "InchMetric"
      </Set>
    </Ref>
    <Ref RefName="Toggle" Left="KeypadRight + BtnWidth + 2 * KeySpace" Top="KeypadBottom - BtnHeight - KeySpace">
      <Set>
        Button.Area = "AbsInc";
        Button.HotSpot = "AbsInc"
      </Set>
    </Ref>

    <!-- Keypad -->
    <Rectangle Top="KeypadTop" Left="KeypadLeft" Height="KeypadHeight" Width="KeypadWidth" Fill="Black">
      <Grid Name="KeyPad" Top="KeySpace" Left="KeySpace" RowHeight="BtnHeight+KeySpace" ColumnWidth="BtnWidth+KeySpace">
        <Default>
          <Ref RefName="Key" />
          <Set>
            Button.Group = Digit;
          </Set>
        </Default>
        <Row>
          <Column>
            <Set>
              Label.Text = ⌫;
              Label.Font = BtnSmallFont;
            	Button.Group = "Edit";
              Button.HotSpot = Key_backSpace;
            </Set>
          </Column>
          <Column>
            <Set>
              Label.Text = CE;
              Label.Font =BtnSmallFont;
            	Button.Group = "Edit";
              Button.HotSpot = Key_clear;
            </Set>
          </Column>
          <Column>
            <Set>
              Label.Text = π;
            	Button.Group = "Edit";
              Button.HotSpot = Key_pi;
            </Set>
          </Column>
          <Column>
            <Set>
              Label.Text = +;
            	Button.Group = "Operator";
              Button.HotSpot = Key_plus;
            </Set>
          </Column>
          <ColumnNoDefault>
            <Ref RefName="Memory"/>
            <Set>
              MemRect.HotSpot = Mem1;
            	MemRect.Fill = MemColorOdd;
            	MemDisp.Area = Mem1;
            </Set>
          </ColumnNoDefault>
        </Row>
        <Row>
          <Column>
            <Set>
              Label.Text = 7;
            	Button.HotSpot = Key_7;
            </Set>
          </Column>
          <Column>
            <Set>
              Label.Text = 8;
            	Button.HotSpot = Key_8;
            </Set>
          </Column>
          <Column>
            <Set>
              Label.Text = 9;
            	Button.HotSpot = Key_9;
            </Set>
          </Column>
          <Column>
            <Set>
              Label.Text = −;
            	Button.Group = Operator;
              Button.HotSpot = Key_minus;
            </Set>
          </Column>
          <ColumnNoDefault>
            <Ref RefName="Memory"/>
            <Set>
              MemRect.HotSpot = Mem2;
            	MemRect.Fill = MemColorEven;
            	MemDisp.Area = Mem2;
            </Set>
          </ColumnNoDefault>
        </Row>
        <Row>
          <Column>
            <Set>
              Label.Text = 4;
            	Button.HotSpot = Key_4;
            </Set>
          </Column>
          <Column>
            <Set>
              Label.Text = 5;
            	Button.HotSpot = Key_5;
            </Set>
          </Column>
          <Column>
            <Set>
              Label.Text = 6;
            	Button.HotSpot = Key_6;
            </Set>
          </Column>
          <Column>
            <Set>
              Label.Text = ×;
            	Button.Group = "Operator";
              Button.HotSpot = Key_mult;
            </Set>
          </Column>
          <ColumnNoDefault>
            <Ref RefName="Memory"/>
            <Set>
              MemRect.HotSpot = Mem3;
            	MemRect.Fill = MemColorOdd;
            	MemDisp.Area = Mem3;
            </Set>
          </ColumnNoDefault>
        </Row>
        <Row>
          <Column>
            <Set>
              Label.Text = 1;
            	Button.HotSpot = Key_1;
            </Set>
          </Column>
          <Column>
            <Set>
              Label.Text = 2;
            	Button.HotSpot = Key_2;
            </Set>
          </Column>
          <Column>
            <Set>
              Label.Text = 3;
            	Button.HotSpot = Key_3;
            </Set>
          </Column>
          <Column>
            <Set>
              Label.Text = ÷;
            	Button.Group = "Operator";
              Button.HotSpot = Key_divide;
            </Set>
          </Column>
          <ColumnNoDefault>
            <Ref RefName="Memory"/>
            <Set>
              MemRect.HotSpot = Mem4;
            	MemRect.Fill = MemColorEven;
            	MemDisp.Area = Mem4;
            </Set>
          </ColumnNoDefault>
        </Row>
        <Row>
          <Column>
            <Set>
              Label.Text = ±;
            	Button.HotSpot = Key_sign;
            </Set>
          </Column>
          <Column>
            <Set>
              Label.Text = 0;
            	Button.HotSpot = Key_0;
            </Set>
          </Column>
          <Column>
            <Set>
              Label.Text = ∙;
            	Button.HotSpot = Key_decimal;
            </Set>
          </Column>
          <Column>
            <Set>
              Label.Text = =;
            	Button.Group = "Operator";
              Button.HotSpot = Key_equal;
            </Set>
          </Column>
        </Row>
      </Grid>
    </Rectangle>

    <!-- Tool displays -->
    <Set>
      ToolTop = 3 * DispHt + 5 * Vspace / 2 + KeySpace;
      ToolCellHeight = SmallTextHeight + 2;
      DescCellWidth = KeypadLeft - ToolDescLeft - KeySpace * 3 - BtnWidth;
    </Set>
    <Ref RefName="ToolLabels" Left="KeySpace" Top="ToolTop">
      <Set>
        Item.Height = ToolCellHeight + 1;
        ToolLabelDesc.Height = ToolCellHeight + 1;
        Item.Stroke = Black;
        ToolLabelDesc.Stroke = Black;
        Label.Foreground = Black;
        ToolTextDesc.Foreground = Black;
        ToolLabelDesc.Width = DescCellWidth;
      </Set>
    </Ref>
    <Ref RefName="ToolInfo" Left="KeySpace" Top="ToolTop">
      <Set>
        TextAreaTop.Top = ToolCellHeight + 2;
        ToolDesc.Width = DescCellWidth - ToolDescTextLeft - 1;
        Item.Height = ToolCellHeight * 2 + 1;
        ToolItemDesc.Height = ToolCellHeight * 2 + 1;
        Item.Stroke = Black;
        ToolItemDesc.Stroke = Black;
        ToolItemDesc.Width = DescCellWidth;
        <!-- Hide the dummy text -->
        DummyText.Foreground = ScreenBackColor;
      </Set>
    </Ref>
    <!-- Tool select button -->
    <Set>
      ToolSelectLeft = KeySpace * 2 + ToolDescLeft + DescCellWidth;
    </Set>
    <Ref RefName="Key" Left="ToolSelectLeft" Top="ToolTop">
      <Set>
        Button.HotSpot = ToolMenu;
      	Button.StrokeThickness = 0;
        Button.Fill = BtnBackground;
      	Label.Foreground = ToggleOn;
        Label.Text = "...";
      </Set>
    </Ref>
    <!-- Tool diagram -->
    <Set>
      DiagramTop = ToolTop + 2 * ToolCellHeight + KeySpace;
    	DiagramHeight = BtnHeight * 2;
    	ToolDia = BtnWidth / 2;
    	ToolImageRadius = ToolDia / 2;
    </Set>
    <Set ShowValue="ToolImageRadius">ToolImageRadius</Set>
    <Color Name="ToolColor" Color="0xC00000" ColorDepth="Color16bpp"/>
    <Color Name="NoToolColor" Color="LightSkyBlue" ColorDepth="Color16bpp"/>
    <Rectangle Top="DiagramTop" Left="KeySpace" Width="DescCellWidth" Height="DiagramHeight">
      <Rectangle HotSpot="ToolLeft" Group="ToolSide" Top="DiagramHeight / 4" Width="BtnWidth" Height="BtnHeight"/>
      <Rectangle HotSpot="ToolBack" Group="ToolSide" Top="0" Width="BtnWidth" Left="BtnWidth" Height="BtnHeight"/>
      <Rectangle HotSpot="ToolFront" Group="ToolSide" Top="DiagramHeight / 2" Left="BtnWidth" Width="BtnWidth" Height="BtnHeight"/>
      <Rectangle HotSpot="ToolRight" Group="ToolSide" Top="DiagramHeight / 4" Left="BtnWidth * 2" Width="BtnWidth" Height="BtnHeight"/>
      <Ellipse Location="ToolLeft" Top="(DiagramHeight - ToolDia) / 2" Height="ToolDia" Width="ToolDia" Fill="NoToolColor"/>
      <Ellipse Location="ToolRight" Top="(DiagramHeight - ToolDia) / 2" Left="BtnWidth * 5 / 2" Height="ToolDia" Width="ToolDia" Fill="NoToolColor"/>
      <Ellipse Location="ToolBack" Top="0" Left="BtnWidth * 3 / 2 - ToolDia / 2" Height="ToolDia" Width="ToolDia" Fill="NoToolColor"/>
      <Ellipse Location="ToolFront" Top="DiagramHeight * 3 / 4" Left="BtnWidth * 3 / 2 - ToolDia / 2" Height="ToolDia" Width="ToolDia" Fill="NoToolColor"/>
      <Rectangle Top="DiagramHeight / 4" Left="BtnWidth / 2" Width="BtnWidth * 2" Height="BtnHeight" Fill="DarkSlateGray"/>
    </Rectangle>
    <!-- Tool feeds & speeds -->
    <Rectangle Area="SpeedDisplay" Top="DiagramTop" Left="BtnWidth * 3 + KeySpace * 2" Height="SpeedDisplayHeight" Width="SpeedDisplayWidth">
      <Ref RefName="SpeedDisplay">
        <Set>
          Sfm.Area = Sfm;
          ChipLoad.Area = ChipLoad;
          Rpm.Area = Rpm;
          FeedRate.Area = FeedRate;
        </Set>
      </Ref>
    </Rectangle>
  </Canvas>

  <!-- Key images -->

  <!-- Coordinate system -->
  <Canvas Name="Coord" Type="Overlay" Height="BtnHeight" ItemWidth="BtnWidth" Fill="LightBlue" ColorDepth="Color16bpp">
    <Item>
      <Ref RefName="Toggle">
        <Set>Upper.Foreground=ToggleOn;</Set>
      </Ref>
    </Item>
    <Item>
      <Ref RefName="Toggle">
        <Set>Lower.Foreground=ToggleOn;</Set>
      </Ref>
    </Item>
  </Canvas>

  <!-- Inch/Mectic units -->
  <Canvas Name="InchMetricBtn" Type="Overlay" Height="BtnHeight" ItemWidth="BtnWidth" Fill="LightBlue" ColorDepth="Color16bpp">
    <Item>
      <Ref RefName="InchMetric">
        <Set>Upper.Foreground=ToggleOn;</Set>
      </Ref>
    </Item>
    <Item>
      <Ref RefName="InchMetric">
        <Set>Lower.Foreground=ToggleOn;</Set>
      </Ref>
    </Item>
  </Canvas>

  <!-- Feeds & speeds images -->
  <Canvas Name="SpeedDisplay" Type="Overlay" Height="SpeedDisplayHeight" ItemWidth="SpeedDisplayWidth" Fill="ScreenBackColor" ColorDepth="Color16bpp">
    <Item>
      <Ref RefName="SpeedDisplay"/>
    </Item>
    <Item>
      <Ref RefName="SpeedDisplay"/>
      <Set>
        SpeedTextSfm.Text = m/min;
        SpeedTextFeed.Text = mm/tth;
        SpeedTextLoad.Text = mm/min;
      </Set>
    </Item>
  </Canvas>

  <!-- Tool Library (PIP) -->

  <Set ShowValue="ToolListHeight">ToolListHeight</Set>
  <Set ShowValue="ToolListWidth">ToolListWidth</Set>
  <Set ShowValue="ToolRowHeight">ToolRowHeight</Set>
  <Set ShowValue="ToolListTop">ToolLibHeight</Set>

  <Component Name="ToolButton">
    <Rectangle Name="Button" Height="ToolBtnHeight" Width="ToolBtnWidth"
      RadiusX="8" RadiusY="8" StrokeThickness="0" Fill="ToolInfoForeground">
      <Image Name="Icon" Source="" Height="ToolBtnHeight" Width="ToolBtnWidth"/>
      <TextBlock Name="Label" Top="ToolBtnHeight + 3" Font="BtnFont" FontSize="17" Foreground="ToolInfoForeground"/>
    </Rectangle>
  </Component>

  <Set>
    <!-- Adjust size of icon, keeping it centered -->
    OkIconAdj = 0;
    TrashIconAdj = 10;
    FolderIconAdj = 12;
    CancelIconAdj = 0;
  </Set>

  <Component Name="ToolButtons">
    <Ref RefName="ToolButton">
      <Set>
        Icon.Source = Ok128.png;
        Icon.Height = ToolBtnHeight - OkIconAdj;
        Icon.Width = ToolBtnWidth - OkIconAdj;
        Icon.Top = OkIconAdj / 2;
        Icon.Left = OkIconAdj / 2;
        Label.Text = Done;
        Button.Name = OkButton;
      </Set>
    </Ref>
    <Ref RefName="ToolButton" Left="ToolBtnWidth + KeySpace">
      <Set>
        Icon.Source = Trash128.png;
        Icon.Height = ToolBtnHeight - TrashIconAdj;
        Icon.Width = ToolBtnWidth - TrashIconAdj;
        Icon.Top = TrashIconAdj / 2;
        Icon.Left = TrashIconAdj / 2;
        Label.Text = Delete;
        Button.Name = DeleteButton;
      </Set>
    </Ref>
    <Ref RefName="ToolButton" Left="(ToolBtnWidth + KeySpace) * 2">
      <Set>
        Icon.Source = Folder128.png;
        Icon.Height = ToolBtnHeight - FolderIconAdj;
        Icon.Width = ToolBtnWidth - FolderIconAdj;
        Icon.Top = FolderIconAdj / 2;
        Icon.Left = FolderIconAdj / 2;
        Label.Text = "Import/&#xA;Export";
        Button.Name = FileButton;
      </Set>
    </Ref>
  </Component>

  <Canvas Name="ToolLibrary" Height="ToolLibHeight" Width="ToolLibWidth" ColorDepth="Color16bpp" Fill="ToolInfoBackground" WidthMultiple="4">
    <Ref RefName="ToolInfo" Left="KeySpace" Top="KeySpace">
      <Set>
        TextAreaTop.Top = 18;
        <!-- Hide the dummy text -->
        DummyText.Foreground = ToolInfoBackground;
      </Set>
    </Ref>
    <Ref RefName="ToolLabels" Left="KeySpace" Top="KeySpace + ToolInfoHeight">
      <Set>
        Item.Height = ToolLabelHeight;
        ToolLabelDesc.Height = ToolLabelHeight;
        ToolLabelDesc.Width = ToolInfoDescWidth;
        ToolTextDesc.Left = 80;
      </Set>
    </Ref>
    <Rectangle Area="ToolButtons" Left="ToolButtonsLeft" Top="KeySpace" Width="ToolButtonsWidth" Height="ToolCtrlHeight">
      <Ref RefName="ToolButtons">
        <Set>
          OkButton.Group = ToolLib;
          OkButton.HotSpot = ToolsDone;
          DeleteButton.HotSpot = ToolDelete;
          DeleteButton.Group = ToolLib;
          FileButton.HotSpot = ToolImportExport;
          FileButton.Group = ToolLib;
        </Set>
      </Ref>
    </Rectangle>
  </Canvas>

  <Canvas Name="ToolRow" Height="ToolRowHeight + 1" Width="ToolRowWidth" ColorDepth="Color16bpp" Fill="ToolLibBackground">
    <Rectangle Left="KeySpace" Height="ToolRowHeight + 1" Width="ToolRowWidth - KeySpace">
      <Ref RefName="ToolInfo">
        <Set>
          Item.Height = ToolRowHeight + 1;
          ToolItemDesc.Height = ToolRowHeight + 1;
          Item.HotSpot = "";
          ToolItemDesc.HotSpot = "";
          ToolItemDesc.Width = ToolListDescWidth;
          TextAreaTop.Top = 12;
          ToolDesc.Width = ToolListDescWidth - ToolDescTextLeft - 1;
          <!-- Hide the dummy text -->
          DummyText.Foreground = ToolLibBackground;
        </Set>
      </Ref>
    </Rectangle>
  </Canvas>

  <Canvas Name="ToolButtons" Type="Overlay" ItemWidth="ToolButtonsWidth" Height="ToolCtrlHeight" Fill="ToolInfoBackground" ColorDepth="Color16bpp">
    <Item>
      <Ref RefName="ToolButtons"/>
    </Item>
    <Item>
      <Ref RefName="ToolButton">
        <Set>
          Icon.Source = Trash128.png;
          Icon.Height = ToolBtnHeight - TrashIconAdj;
          Icon.Width = ToolBtnWidth - TrashIconAdj;
          Icon.Top = TrashIconAdj / 2;
          Icon.Left = TrashIconAdj / 2;
          Label.Text = Confirm&#xA; Delete
        </Set>
      </Ref>
      <Ref RefName="ToolButton" Left="(ToolBtnWidth + KeySpace) * 2">
        <Set>
          Icon.Source = Cancel128.png;
          Icon.Height = ToolBtnHeight - CancelIconAdj;
          Icon.Width = ToolBtnWidth - CancelIconAdj;
          Icon.Top = CancelIconAdj / 2;
          Icon.Left = CancelIconAdj / 2;
          Label.Text = Cancel&#xA;Delete
        </Set>
      </Ref>
    </Item>
    <Item>
      <Ref RefName="ToolButton">
        <Set>
          Icon.Source = Ok128.png;
          Icon.Height = ToolBtnHeight - OkIconAdj;
          Icon.Width = ToolBtnWidth - OkIconAdj;
          Icon.Top = OkIconAdj / 2;
          Icon.Left = OkIconAdj / 2;
          Label.Text = Done;
        </Set>
      </Ref>
      <Ref RefName="ToolButton" Left="ToolBtnWidth + KeySpace">
        <Set>
          Icon.Source = Cancel128.png;
          Icon.Height = ToolBtnHeight - CancelIconAdj;
          Icon.Width = ToolBtnWidth - CancelIconAdj;
          Icon.Top = CancelIconAdj / 2;
          Icon.Left = CancelIconAdj / 2;
          Label.Text = Cancel;
        </Set>
      </Ref>
      <Ref RefName="ToolButton" Left="(ToolBtnWidth + KeySpace) * 2">
        <Set>
          Icon.Source = Folder128.png;
          Icon.Height = ToolBtnHeight - FolderIconAdj;
          Icon.Width = ToolBtnWidth - FolderIconAdj;
          Icon.Top = FolderIconAdj / 2;
          Icon.Left = FolderIconAdj / 2;
          Label.Text = "Import/&#xA;Export";
        </Set>
      </Ref>
    </Item>
  </Canvas>

  <!-- Settings Screens (PIP) -->

  <Color Name="SettingBackColor" Color="Black" ColorDepth="Color8bpp"/>
  <Color Name="SettingForeColor" Color="White" ColorDepth="Color8bpp"/>
  <Font Name="SettingsLabelFont" FontFamily="Arial" FontSize ="20"/>
  <Set>CheckboxSize = 32;</Set>
  <Color Name="CheckForeground" Color="SettingForeColor"/>
  <Color Name="CheckBackground" Color="SettingBackColor"/>

  <Component Name="UncheckedBox">
    <Rectangle Height="CheckboxSize" Width="CheckboxSize" StrokeThickness="3" Stroke="CheckForeground" Fill="CheckBackground">
    </Rectangle>
  </Component>

  <Component Name="CheckedBox">
    <Rectangle Height="CheckboxSize" Width="CheckboxSize" StrokeThickness="3" Stroke="CheckForeground" Fill="CheckBackground">
      <Line X1="0" Y1="0" X2="CheckboxSize" Y2="CheckboxSize" StrokeThickness="4" Stroke="CheckForeground"/>
      <Line X1="0" Y1="CheckboxSize" X2="CheckboxSize" Y2="0" StrokeThickness="4" Stroke="CheckForeground"/>
    </Rectangle>
  </Component>

  <!-- Main Settings Screen (PIP) -->
  <Canvas Name="SettingsScreen" Width="SettingsWidth" Height="ScreenHeight" Fill="SettingBackColor" ColorDepth="Color8bpp" WidthMultiple="4">
    <Font Name="AxisLabelFont" FontFamily="Arial" FontSize="48"/>
    <Set>
      AxisLabelWidth = 54;
      AxisSettingWidth = 120;
      AxisSettingHeight = BtnHeight + 1;
      ColAdjust = AxisLabelWidth - AxisSettingWidth;
      SensorTextLeft = 50;
      CorrectionTextLeft = 5;
    </Set>
    <Grid Top="KeySpace" Left="KeySpace" RowHeight="BtnHeight" ColumnWidth="AxisSettingWidth - 1">
      <Row>
        <Column></Column>
        <Column Left="ColAdjust">
          <Rectangle Height="AxisSettingHeight" Width="AxisSettingWidth" Stroke="SettingForeColor" StrokeThickness="1">
            <TextBlock Name="AxisLabel" Font="SettingsLabelFont" Text="Sensor&#xA;Resolution" Foreground="SettingForeColor"/>
          </Rectangle>
        </Column>
        <Column>
          <Rectangle Height="AxisSettingHeight" Width="AxisSettingWidth" Stroke="SettingForeColor" StrokeThickness="1">
            <TextBlock Name="AxisLabel" Font="SettingsLabelFont" Text="Invert&#xA;Direction" Foreground="SettingForeColor"/>
          </Rectangle>
        </Column>
        <Column>
          <Rectangle Height="AxisSettingHeight" Width="AxisSettingWidth" Stroke="SettingForeColor" StrokeThickness="1">
            <TextBlock Name="AxisLabel" Font="SettingsLabelFont" Text="Linear&#xA;Correction" Foreground="SettingForeColor"/>
          </Rectangle>
        </Column>
      </Row>
      <Row>
        <Column>
          <Rectangle Height="AxisSettingHeight" Width="AxisLabelWidth" Stroke="SettingForeColor" StrokeThickness="1">
            <TextBlock Name="AxisLabel" Font="AxisLabelFont" Text="X" Foreground="SettingForeColor"/>
          </Rectangle>
        </Column>
        <Column Left="ColAdjust">
          <Rectangle HotSpot="Xsensor" Group="Resolution" Height="AxisSettingHeight" Width="AxisSettingWidth" Stroke="SettingForeColor" StrokeThickness="1">
            <Rectangle Area="Xresolution" Top="10" Left="SensorTextLeft" Height="SettingsFont_Height" Width="AxisSettingWidth - SensorTextLeft - 1"/>
          </Rectangle>
        </Column>
        <Column>
          <Rectangle HotSpot="Xsensor" Group="Invert" Height="AxisSettingHeight" Width="AxisSettingWidth" Stroke="SettingForeColor" StrokeThickness="1">
            <Rectangle Area="Xinvert" Top="(BtnHeight - CheckboxSize) / 2" Left="(AxisSettingWidth - CheckboxSize) / 2" Height="CheckboxSize" Width="CheckboxSize"/>
          </Rectangle>
        </Column>
        <Column>
          <Rectangle HotSpot="Xsensor" Group="Correction" Height="AxisSettingHeight" Width="AxisSettingWidth" Stroke="SettingForeColor" StrokeThickness="1">
            <Rectangle Area="Xcorrection" Top="10" Left="CorrectionTextLeft" Height="SettingsFont_Height" Width="AxisSettingWidth - CorrectionTextLeft - 1"/>
          </Rectangle>
        </Column>
      </Row>
      <Row>
        <Column>
          <Rectangle Height="AxisSettingHeight" Width="AxisLabelWidth" Stroke="SettingForeColor" StrokeThickness="1">
            <TextBlock Name="AxisLabel" Font="AxisLabelFont" Text="Y" Foreground="SettingForeColor"/>
          </Rectangle>
        </Column>
        <Column Left="ColAdjust">
          <Rectangle HotSpot="Ysensor" Group="Resolution" Height="AxisSettingHeight" Width="AxisSettingWidth" Stroke="SettingForeColor" StrokeThickness="1">
            <Rectangle Area="Yresolution" Top="10" Left="SensorTextLeft" Height="SettingsFont_Height" Width="AxisSettingWidth - SensorTextLeft - 1"/>
          </Rectangle>
        </Column>
        <Column>
          <Rectangle HotSpot="Ysensor" Group="Invert" Height="AxisSettingHeight" Width="AxisSettingWidth" Stroke="SettingForeColor" StrokeThickness="1">
            <Rectangle Area="Yinvert" Top="(BtnHeight - CheckboxSize) / 2" Left="(AxisSettingWidth - CheckboxSize) / 2" Height="CheckboxSize" Width="CheckboxSize"/>
          </Rectangle>
        </Column>
        <Column>
          <Rectangle HotSpot="Ysensor" Group="Correction" Height="AxisSettingHeight" Width="AxisSettingWidth" Stroke="SettingForeColor" StrokeThickness="1">
            <Rectangle Area="Ycorrection" Top="10" Left="CorrectionTextLeft" Height="SettingsFont_Height" Width="AxisSettingWidth - CorrectionTextLeft - 1"/>
          </Rectangle>
        </Column>
      </Row>
      <Row>
        <Column>
          <Rectangle Height="AxisSettingHeight" Width="AxisLabelWidth" Stroke="SettingForeColor" StrokeThickness="1">
            <TextBlock Name="AxisLabel" Font="AxisLabelFont" Text="Z" Foreground="SettingForeColor"/>
          </Rectangle>
        </Column>
        <Column Left="ColAdjust">
          <Rectangle HotSpot="Zsensor" Group="Resolution" Height="AxisSettingHeight" Width="AxisSettingWidth" Stroke="SettingForeColor" StrokeThickness="1">
            <Rectangle Area="Zresolution" Top="10" Left="SensorTextLeft" Height="SettingsFont_Height" Width="AxisSettingWidth - SensorTextLeft - 1"/>
          </Rectangle>
        </Column>
        <Column>
          <Rectangle HotSpot="Zsensor" Group="Invert" Height="AxisSettingHeight" Width="AxisSettingWidth" Stroke="SettingForeColor" StrokeThickness="1">
            <Rectangle Area="Zinvert" Top="(BtnHeight - CheckboxSize) / 2" Left="(AxisSettingWidth - CheckboxSize) / 2" Height="CheckboxSize" Width="CheckboxSize"/>
          </Rectangle>
        </Column>
        <Column>
          <Rectangle HotSpot="Zsensor" Group="Correction" Height="AxisSettingHeight" Width="AxisSettingWidth" Stroke="SettingForeColor" StrokeThickness="1">
            <Rectangle Area="Zcorrection" Top="10" Left="CorrectionTextLeft" Height="SettingsFont_Height" Width="AxisSettingWidth - CorrectionTextLeft - 1"/>
          </Rectangle>
        </Column>
      </Row>
      <Row>
        <Column>
          <Rectangle Height="AxisSettingHeight" Width="AxisLabelWidth" Stroke="SettingForeColor" StrokeThickness="1">
            <TextBlock Name="AxisLabel" Font="AxisLabelFont" Text="Q" Foreground="SettingForeColor"/>
          </Rectangle>
        </Column>
        <Column Left="ColAdjust">
          <Rectangle HotSpot="Qsensor" Group="Resolution" Height="AxisSettingHeight" Width="AxisSettingWidth" Stroke="SettingForeColor" StrokeThickness="1">
            <Rectangle Area="Qresolution" Top="10" Left="SensorTextLeft" Height="SettingsFont_Height" Width="AxisSettingWidth - SensorTextLeft - 1"/>
          </Rectangle>
        </Column>
        <Column>
          <Rectangle HotSpot="Qsensor" Group="Invert" Height="AxisSettingHeight" Width="AxisSettingWidth" Stroke="SettingForeColor" StrokeThickness="1">
            <Rectangle Area="Qinvert" Top="(BtnHeight - CheckboxSize) / 2" Left="(AxisSettingWidth - CheckboxSize) / 2" Height="CheckboxSize" Width="CheckboxSize"/>
          </Rectangle>
        </Column>
        <Column>
          <Rectangle HotSpot="Qsensor" Group="Correction" Height="AxisSettingHeight" Width="AxisSettingWidth" Stroke="SettingForeColor" StrokeThickness="1">
            <Rectangle Area="Qcorrection" Top="10" Left="CorrectionTextLeft" Height="SettingsFont_Height" Width="AxisSettingWidth - CorrectionTextLeft - 1"/>
          </Rectangle>
        </Column>
      </Row>
    </Grid>
    <Set>
      BelowGrid = BtnHeight * 5 + KeySpace * 2;
      OptionWidth = 345;
      SetItemRight = OptionWidth - KeySpace;
    </Set>
    <Rectangle HotSpot="HighlightXY" Group="SettingToggle" Top="BelowGrid" Left="KeySpace" Height="BtnHeight" Width="OptionWidth" Stroke="SettingForeColor" StrokeThickness="1">
      <TextBlock Left="KeySpace" Font="SettingsLabelFont" Foreground="SettingForeColor">Highlight X, Y axes when offset:</TextBlock>
      <Rectangle Area="HighlightXY" Top="(BtnHeight - CheckboxSize) / 2" Left="SetItemRight - CheckboxSize" Height="CheckboxSize" Width="CheckboxSize"/>
    </Rectangle>
    <Rectangle HotSpot="OffsetZ" Group="SettingToggle" Top="BelowGrid + BtnHeight + KeySpace" Left="KeySpace" Height="BtnHeight" Width="OptionWidth" Stroke="SettingForeColor" StrokeThickness="1">
      <TextBlock Left="KeySpace" Font="SettingsLabelFont" Foreground="SettingForeColor">Offset Z by tool length:</TextBlock>
      <Rectangle Area="OffsetZ" Top="(BtnHeight - CheckboxSize) / 2" Left="SetItemRight - CheckboxSize" Height="CheckboxSize" Width="CheckboxSize"/>
    </Rectangle>
    <Rectangle HotSpot="CncCoordinates" Group="SettingToggle" Top="BelowGrid + (BtnHeight + KeySpace) * 2" Left="KeySpace" Height="BtnHeight" Width="OptionWidth" Stroke="SettingForeColor" StrokeThickness="1">
      <TextBlock Left="KeySpace" Font="SettingsLabelFont" Foreground="SettingForeColor">CNC-style coordinates:</TextBlock>
      <Rectangle Area="CncCoordinates" Top="(BtnHeight - CheckboxSize) / 2" Left="SetItemRight - CheckboxSize" Height="CheckboxSize" Width="CheckboxSize"/>
    </Rectangle>
    <Rectangle HotSpot="MaxRpm" Top="BelowGrid + (BtnHeight + KeySpace) * 3" Left="KeySpace" Height="BtnHeight" Width="OptionWidth" Stroke="SettingForeColor" StrokeThickness="1">
      <TextBlock Left="KeySpace" Font="SettingsLabelFont" Foreground="SettingForeColor">Max machine RPM:</TextBlock>
      <Rectangle Area="MaxRpm" Top="10" Left="SetItemRight - 5 * 20" Height="SettingsFont_Height" Width="5 * 20"/>
    </Rectangle>
    <Rectangle HotSpot="TouchCal" Top="BelowGrid" Left="OptionWidth + KeySpace * 2" Height="BtnHeight" Width="200" RadiusX="8" RadiusY="8" Fill="SettingForeColor">
      <TextBlock Font="BtnSmallFont" FontSize="25" Foreground="SettingBackColor">Touch Calibration</TextBlock>
    </Rectangle>
  </Canvas>

  <!-- Settings images -->
  <Canvas Name="CheckBox" Type="Overlay" Height="CheckboxSize" ItemWidth="CheckboxSize" Fill="CheckBackground" ColorDepth="Color8bpp">
    <Item>
      <Ref RefName="UncheckedBox"/>
    </Item>
    <Item>
      <Ref RefName="CheckedBox"/>
    </Item>
  </Canvas>

  <!-- Keyboard constants -->
  <Set>
    KeyboardWidth = KeySpace + (BtnWidth + KeySpace) * 11 + BtnWidth / 2;
    KeyboardHeight = KeySpace + (BtnHeight + KeySpace) * 5;
    SpacebarWidth = KeyboardWidth - KeySpace * 7 - BtnWidth * 13 / 2;
  </Set>
  <Set ShowValue="KeyboardTop">KeypadTop</Set>
  <Set ShowValue="KeyboardLeft">KeypadRight - KeyboardWidth</Set>

  <!-- Lower-case keyboard -->
  <Canvas Name="KeyLower" ColorDepth="Color8bpp" Height="KeyboardHeight" Width="KeyboardWidth" Fill="Black">
    <Grid Top="KeySpace" Left="KeySpace" RowHeight="BtnHeight+KeySpace" ColumnWidth="BtnWidth+KeySpace">
      <Default>
        <Ref RefName="Key" />
        <Set>Button.Group = Keyboard</Set>
      </Default>
      <Row>
        <Column><Set>Label.Text=1; Button.HotSpot=Key_1</Set></Column>
        <Column><Set>Label.Text=2; Button.HotSpot=Key_2</Set></Column>
        <Column><Set>Label.Text=3; Button.HotSpot=Key_3</Set></Column>
        <Column><Set>Label.Text=4; Button.HotSpot=Key_4</Set></Column>
        <Column><Set>Label.Text=5; Button.HotSpot=Key_5</Set></Column>
        <Column><Set>Label.Text=6; Button.HotSpot=Key_6</Set></Column>
        <Column><Set>Label.Text=7; Button.HotSpot=Key_7</Set></Column>
        <Column><Set>Label.Text=8; Button.HotSpot=Key_8</Set></Column>
        <Column><Set>Label.Text=9; Button.HotSpot=Key_9</Set></Column>
        <Column><Set>Label.Text=0; Button.HotSpot=Key_0</Set></Column>
        <Column><Set>Label.Text="-"; Button.HotSpot=Key_minus</Set></Column>
      </Row>
      <Row Left="BtnWidth / 2">
        <Column><Set>Label.Text=q; Button.HotSpot=Key_q</Set></Column>
        <Column><Set>Label.Text=w; Button.HotSpot=Key_w</Set></Column>
        <Column><Set>Label.Text=e; Button.HotSpot=Key_e</Set></Column>
        <Column><Set>Label.Text=r; Button.HotSpot=Key_r</Set></Column>
        <Column><Set>Label.Text=t; Button.HotSpot=Key_t</Set></Column>
        <Column><Set>Label.Text=y; Button.HotSpot=Key_y</Set></Column>
        <Column><Set>Label.Text=u; Button.HotSpot=Key_u</Set></Column>
        <Column><Set>Label.Text=i; Button.HotSpot=Key_i</Set></Column>
        <Column><Set>Label.Text=o; Button.HotSpot=Key_o</Set></Column>
        <Column><Set>Label.Text=p; Button.HotSpot=Key_p</Set></Column>
        <Column><Set>Label.Text="\""; Button.HotSpot=Key_quote</Set></Column>
      </Row>
      <Row Left="BtnWidth">
        <Column><Set>Label.Text=a; Button.HotSpot=Key_a</Set></Column>
        <Column><Set>Label.Text=s; Button.HotSpot=Key_s</Set></Column>
        <Column><Set>Label.Text=d; Button.HotSpot=Key_d</Set></Column>
        <Column><Set>Label.Text=f; Button.HotSpot=Key_f</Set></Column>
        <Column><Set>Label.Text=g; Button.HotSpot=Key_g</Set></Column>
        <Column><Set>Label.Text=h; Button.HotSpot=Key_h</Set></Column>
        <Column><Set>Label.Text=j; Button.HotSpot=Key_j</Set></Column>
        <Column><Set>Label.Text=k; Button.HotSpot=Key_k</Set></Column>
        <Column><Set>Label.Text=l; Button.HotSpot=Key_l</Set></Column>
        <Column>
          <Set>
            Label.Text=⏎;
            Button.Width=BtnWidth * 3 / 2 + KeySpace;
            Label.FontFamily="Global Sans Serif";
            Label.FontWeight=Bold;
            Label.FontSize = 56;
            Label.Top = 0;
            Button.HotSpot=Key_enter;
          </Set>
        </Column>
      </Row>
      <Row>
        <Column>
          <Set>
            Button.Width=BtnWidth * 3 / 2;
            Label.Text=⇧;
            Label.FontFamily="Global Sans Serif";
            Label.FontWeight = Bold;
            Label.FontSize = 92;
            Label.Top = -18;
            Button.HotSpot=Key_shift;
          </Set>
        </Column>
        <Column Left="BtnWidth / 2"><Set>Label.Text=z; Button.HotSpot=Key_z</Set></Column>
        <Column><Set>Label.Text=x; Button.HotSpot=Key_x</Set></Column>
        <Column><Set>Label.Text=c; Button.HotSpot=Key_c</Set></Column>
        <Column><Set>Label.Text=v; Button.HotSpot=Key_v</Set></Column>
        <Column><Set>Label.Text=b; Button.HotSpot=Key_b</Set></Column>
        <Column><Set>Label.Text=n; Button.HotSpot=Key_n</Set></Column>
        <Column><Set>Label.Text=m; Button.HotSpot=Key_m</Set></Column>
        <Column><Set>Label.Text=","; Button.HotSpot=Key_comma</Set></Column>
        <Column><Set>Label.Text="."; Button.HotSpot=Key_period</Set></Column>
        <Column><Set>Label.Text="/"; Button.HotSpot=Key_slash</Set></Column>
      </Row>
      <Row>
        <Column>
          <Set>
            Button.Width=BtnWidth * 3 / 2;
            Label.Text=⇧;
            Label.FontFamily="Global Sans Serif";
            Label.FontWeight = Bold;
            Label.FontSize = 86;
            Label.Top = -18;
            Button.HotSpot=Key_shiftLock;
          </Set>
          <TextBlock Left="34" Top="-10" FontSize="54" Text="_"/>
        </Column>
        <Column Left="BtnWidth / 2"><Set>Label.Text="#$("; Button.Width=BtnWidth * 3 / 2; Button.HotSpot=Key_symbols</Set></Column>
        <Column Left="BtnWidth / 2"><Set>Label.Text=" "; Button.HotSpot=Key_space; Button.Width=SpacebarWidth</Set></Column>
        <Column Left="SpacebarWidth - BtnHeight"><Set>Label.Text=←; Label.FontFamily=Calibri; Button.HotSpot=Key_left</Set></Column>
        <Column><Set>Label.Text=→; Label.FontFamily=Calibri;  Button.HotSpot=Key_right</Set></Column>
        <Column><Set>Label.Text=⌫; Button.Width=BtnWidth * 3 / 2; Label.FontWeight=Bold; Button.HotSpot=Key_backspace</Set></Column>
      </Row>
    </Grid>
  </Canvas>

  <!-- Upper-case keyboard -->
  <Canvas Name="KeyUpper" ColorDepth="Color8bpp" Height="KeyboardHeight" Width="KeyboardWidth" Fill="Black">
    <Grid Top="KeySpace" Left="KeySpace" RowHeight="BtnHeight+KeySpace" ColumnWidth="BtnWidth+KeySpace">
      <Default>
        <Ref RefName="Key" />
        <Set>Button.Group = Keyboard</Set>
      </Default>
      <Row>
        <Column><Set>Label.Text=1; Button.HotSpot=Key_1</Set></Column>
        <Column><Set>Label.Text=2; Button.HotSpot=Key_2</Set></Column>
        <Column><Set>Label.Text=3; Button.HotSpot=Key_3</Set></Column>
        <Column><Set>Label.Text=4; Button.HotSpot=Key_4</Set></Column>
        <Column><Set>Label.Text=5; Button.HotSpot=Key_5</Set></Column>
        <Column><Set>Label.Text=6; Button.HotSpot=Key_6</Set></Column>
        <Column><Set>Label.Text=7; Button.HotSpot=Key_7</Set></Column>
        <Column><Set>Label.Text=8; Button.HotSpot=Key_8</Set></Column>
        <Column><Set>Label.Text=9; Button.HotSpot=Key_9</Set></Column>
        <Column><Set>Label.Text=0; Button.HotSpot=Key_0</Set></Column>
        <Column><Set>Label.Text="-"; Button.HotSpot=Key_minus</Set></Column>
      </Row>
      <Row Left="BtnWidth / 2">
        <Column><Set>Label.Text=Q; Button.HotSpot=Key_Q</Set></Column>
        <Column><Set>Label.Text=W; Button.HotSpot=Key_W</Set></Column>
        <Column><Set>Label.Text=E; Button.HotSpot=Key_E</Set></Column>
        <Column><Set>Label.Text=R; Button.HotSpot=Key_R</Set></Column>
        <Column><Set>Label.Text=T; Button.HotSpot=Key_T</Set></Column>
        <Column><Set>Label.Text=Y; Button.HotSpot=Key_Y</Set></Column>
        <Column><Set>Label.Text=U; Button.HotSpot=Key_U</Set></Column>
        <Column><Set>Label.Text=I; Button.HotSpot=Key_I</Set></Column>
        <Column><Set>Label.Text=O; Button.HotSpot=Key_O</Set></Column>
        <Column><Set>Label.Text=P; Button.HotSpot=Key_P</Set></Column>
        <Column><Set>Label.Text="\""; Button.HotSpot=Key_quote</Set></Column>
      </Row>
      <Row Left="BtnWidth">
        <Column><Set>Label.Text=A; Button.HotSpot=Key_A</Set></Column>
        <Column><Set>Label.Text=S; Button.HotSpot=Key_S</Set></Column>
        <Column><Set>Label.Text=D; Button.HotSpot=Key_D</Set></Column>
        <Column><Set>Label.Text=F; Button.HotSpot=Key_F</Set></Column>
        <Column><Set>Label.Text=G; Button.HotSpot=Key_G</Set></Column>
        <Column><Set>Label.Text=H; Button.HotSpot=Key_H</Set></Column>
        <Column><Set>Label.Text=J; Button.HotSpot=Key_J</Set></Column>
        <Column><Set>Label.Text=K; Button.HotSpot=Key_K</Set></Column>
        <Column><Set>Label.Text=L; Button.HotSpot=Key_L</Set></Column>
        <Column>
          <Set>
            Label.Text=⏎;
            Button.Width=BtnWidth * 3 / 2 + KeySpace;
            Label.FontFamily="Global Sans Serif";
            Label.FontWeight=Bold;
            Label.FontSize = 56;
            Label.Top = 0;
            Button.HotSpot=Key_enter;
          </Set>
        </Column>
      </Row>
      <Row>
        <Column>
          <Set>
            Button.Width=BtnWidth * 3 / 2;
            Label.Text=⇩;
            Label.FontFamily="Global Sans Serif";
            Label.FontWeight = Bold;
            Label.FontSize = 92;
            Label.Top = -18;
            Button.HotSpot=Key_shift;
          </Set>
        </Column>
        <Column Left="BtnWidth / 2"><Set>Label.Text=Z; Button.HotSpot=Key_Z</Set></Column>
        <Column><Set>Label.Text=X; Button.HotSpot=Key_X</Set></Column>
        <Column><Set>Label.Text=C; Button.HotSpot=Key_C</Set></Column>
        <Column><Set>Label.Text=V; Button.HotSpot=Key_V</Set></Column>
        <Column><Set>Label.Text=B; Button.HotSpot=Key_B</Set></Column>
        <Column><Set>Label.Text=N; Button.HotSpot=Key_N</Set></Column>
        <Column><Set>Label.Text=M; Button.HotSpot=Key_M</Set></Column>
        <Column><Set>Label.Text=","; Button.HotSpot=Key_comma</Set></Column>
        <Column><Set>Label.Text="."; Button.HotSpot=Key_period</Set></Column>
        <Column><Set>Label.Text="/"; Button.HotSpot=Key_slash</Set></Column>
      </Row>
      <Row>
        <Column>
          <Set>
            Button.Width=BtnWidth * 3 / 2;
            Label.Text=⇧;
            Label.FontFamily="Global Sans Serif";
            Label.FontWeight = Bold;
            Label.FontSize = 86;
            Label.Top = -18;
            Button.HotSpot=Key_shiftLock;
          </Set>
          <TextBlock Left="34" Top="-10" FontSize="54" Text="_"/>
        </Column>
        <Column Left="BtnWidth / 2"><Set>Label.Text="#$("; Button.Width=BtnWidth * 3 / 2; Button.HotSpot=Key_symbols</Set></Column>
        <Column Left="BtnWidth / 2"><Set>Label.Text=" "; Button.HotSpot=Key_space; Button.Width=SpacebarWidth</Set></Column>
        <Column Left="SpacebarWidth - BtnHeight"><Set>Label.Text=←; Label.FontFamily=Calibri; Button.HotSpot=Key_left</Set></Column>
        <Column><Set>Label.Text=→; Label.FontFamily=Calibri;  Button.HotSpot=Key_right</Set></Column>
        <Column><Set>Label.Text=⌫; Button.Width=BtnWidth * 3 / 2; Label.FontWeight=Bold; Button.HotSpot=Key_backspace</Set></Column>
      </Row>
    </Grid>
  </Canvas>

  <!-- Symbol keyboard -->
  <Canvas Name="KeySymbol" ColorDepth="Color8bpp" Height="KeyboardHeight" Width="KeyboardWidth" Fill="Black">
    <Grid Top="KeySpace" Left="KeySpace" RowHeight="BtnHeight+KeySpace" ColumnWidth="BtnWidth+KeySpace">
      <Default>
        <Ref RefName="Key" />
        <Set>Button.Group = Keyboard</Set>
      </Default>
      <Row>
        <Column><Set>Label.Text=1; Button.HotSpot=Key_1</Set></Column>
        <Column><Set>Label.Text=2; Button.HotSpot=Key_2</Set></Column>
        <Column><Set>Label.Text=3; Button.HotSpot=Key_3</Set></Column>
        <Column><Set>Label.Text=4; Button.HotSpot=Key_4</Set></Column>
        <Column><Set>Label.Text=5; Button.HotSpot=Key_5</Set></Column>
        <Column><Set>Label.Text=6; Button.HotSpot=Key_6</Set></Column>
        <Column><Set>Label.Text=7; Button.HotSpot=Key_7</Set></Column>
        <Column><Set>Label.Text=8; Button.HotSpot=Key_8</Set></Column>
        <Column><Set>Label.Text=9; Button.HotSpot=Key_9</Set></Column>
        <Column><Set>Label.Text=0; Button.HotSpot=Key_0</Set></Column>
        <Column><Set>Label.Text="-"; Button.HotSpot=Key_minus</Set></Column>
      </Row>
      <Row Left="BtnWidth / 2">
        <Column><Set>Label.Text=~; Button.HotSpot=Key_tilde</Set></Column>
        <Column><Set>Label.Text=!; Button.HotSpot=Key_exclamation</Set></Column>
        <Column><Set>Label.Text=@; Button.HotSpot=Key_at</Set></Column>
        <Column><Set>Label.Text=#; Button.HotSpot=Key_hash</Set></Column>
        <Column><Set>Label.Text=$; Button.HotSpot=Key_dollar</Set></Column>
        <Column><Set>Label.Text=%; Button.HotSpot=Key_percent</Set></Column>
        <Column><Set>Label.Text=^; Button.HotSpot=Key_hat</Set></Column>
        <Column><Set>Label.Text=*; Button.HotSpot=Key_star</Set></Column>
        <Column><Set>Label.Text=(; Button.HotSpot=Key_lparen</Set></Column>
        <Column><Set>Label.Text=); Button.HotSpot=Key_rparen</Set></Column>
        <Column><Set>Label.Text="\""; Button.HotSpot=Key_quote</Set></Column>
      </Row>
      <Row Left="BtnWidth">
        <Column><Set>Label.Text=`; Button.HotSpot=Key_backApostrophe</Set></Column>
        <Column><Set>Label.Text=&amp;; Button.HotSpot=Key_ampersand</Set></Column>
        <Column><Set>Label.Text=_; Button.HotSpot=Key_underscore</Set></Column>
        <Column><Set>Label.Text=+; Button.HotSpot=Key_plus</Set></Column>
        <Column><Set>Label.Text="="; Button.HotSpot=Key_equal</Set></Column>
        <Column><Set>Label.Text=[; Button.HotSpot=Key_lbracket</Set></Column>
        <Column><Set>Label.Text=]; Button.HotSpot=Key_rbracket</Set></Column>
        <Column><Set>Label.Text={; Button.HotSpot=Key_lbrace</Set></Column>
        <Column><Set>Label.Text=}; Button.HotSpot=Key_rbrace</Set></Column>
        <Column>
          <Set>
            Label.Text=⏎;
            Button.Width=BtnWidth * 3 / 2 + KeySpace;
            Label.FontFamily="Global Sans Serif";
            Label.FontWeight=Bold;
            Label.FontSize = 56;
            Label.Top = 0;
            Button.HotSpot=Key_enter;
          </Set>
        </Column>
      </Row>
      <Row>
        <Column>
          <Set>
            Button.Width=BtnWidth * 3 / 2;
            Label.Text=⇧;
            Label.FontFamily="Global Sans Serif";
            Label.FontWeight = Bold;
            Label.FontSize = 92;
            Label.Top = -18;
            Button.HotSpot=Key_shift;
          </Set>
        </Column>
        <Column Left="BtnWidth / 2"><Set>Label.Text=|; Button.HotSpot=Key_vbar</Set></Column>
        <Column><Set>Label.Text="\\"; Button.HotSpot=Key_backslash</Set></Column>
        <Column><Set>Label.Text=:; Button.HotSpot=Key_colon</Set></Column>
        <Column><Set>Label.Text=";"; Button.HotSpot=Key_semi</Set></Column>
        <Column><Set>Label.Text='; Button.HotSpot=Key_apostrophe</Set></Column>
        <Column><Set>Label.Text=&lt;; Button.HotSpot=Key_lessthan</Set></Column>
        <Column><Set>Label.Text=>; Button.HotSpot=Key_greaterthan</Set></Column>
        <Column><Set>Label.Text="?"; Button.HotSpot=Key_question</Set></Column>
        <Column><Set>Label.Text="."; Button.HotSpot=Key_period</Set></Column>
        <Column><Set>Label.Text="/"; Button.HotSpot=Key_slash</Set></Column>
      </Row>
      <Row>
        <Column>
          <Set>
            Button.Width=BtnWidth * 3 / 2;
            Label.Text=⇧;
            Label.FontFamily="Global Sans Serif";
            Label.FontWeight = Bold;
            Label.FontSize = 86;
            Label.Top = -18;
            Button.HotSpot=Key_shiftLock;
          </Set>
          <TextBlock Left="34" Top="-10" FontSize="54" Text="_"/>
        </Column>
        <Column Left="BtnWidth / 2"><Set>Label.Text="abc"; Button.Width=BtnWidth * 3 / 2; Button.HotSpot=Key_normal</Set></Column>
        <Column Left="BtnWidth / 2"><Set>Label.Text=" "; Button.HotSpot=Key_space; Button.Width=SpacebarWidth</Set></Column>
        <Column Left="SpacebarWidth - BtnHeight"><Set>Label.Text=←; Label.FontFamily=Calibri; Button.HotSpot=Key_left</Set></Column>
        <Column><Set>Label.Text=→; Label.FontFamily=Calibri;  Button.HotSpot=Key_right</Set></Column>
        <Column><Set>Label.Text=⌫; Button.Width=BtnWidth * 3 / 2; Label.FontWeight=Bold; Button.HotSpot=Key_backspace</Set></Column>
      </Row>
    </Grid>
  </Canvas>
</Project>
